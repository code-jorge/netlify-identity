<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no">
  <meta name="description" content="Homer Simpson.">
  <title>Identity</title>
  <link rel="icon" href="favicon.ico" type="image/x-icon">
  <style>
    * {
      box-sizing: border-box;
    }
    body {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      position: relative;
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      min-height: 100vh;
      overflow: hidden;
      background-color: #b22222;
      background-image:
          linear-gradient(black 1px, transparent 1px),
          linear-gradient(90deg, black 1px, transparent 1px);
      background-size: 50px 20px, 50px 20px;
    }
    .header {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      width: 100%;
      z-index: 1;
      background-color: black;
      height: 40px;
      display: flex;
      flex-direction: row;
      align-items: center;
      justify-content: flex-end;
      padding: 0 20px;
    }
    .netlify-identity-button {
      color: white;
    }
    .content {
      position: relative;
      width: 500px;
      max-width: calc(100% - 40px);
      max-height: calc(100% - 40px);
    }
    .label {
      color: white;
      font-size: 16px;
      position: absolute;
      top: 5px;
      left: 5px;
      margin: 0;
    }
    .image {
      width: 100%;
      height: 100%;
    }
  </style>
  <script type="text/javascript" src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
</head>
<body>
  <header class="header">
    <div data-netlify-identity-button></div>
  </header>
  <div class="content">
    <p id="label" class="label">You are nobody</p>
    <img class="image" src="homer.gif" alt="Homer Simpson">
  </div>
  <script>
    // Setup
    const label = document.getElementById('label');
    const user = netlifyIdentity.currentUser();
    if (user) label.textContent = `You are ${user.user_metadata.full_name || user.email}`;
    netlifyIdentity.on('login', user => label.textContent = `You are ${user.user_metadata.full_name || user.email}`);
    netlifyIdentity.on('logout', () => label.textContent = `You are nobody`);
  </script>
</body>

</html>